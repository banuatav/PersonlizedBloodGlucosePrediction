sum(!is.na(CleanedBGData$DailyTotalImmediateInsulin))
knitr::opts_chunk$set(echo = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
head(BGData)
summary(BGData)
Carbs = rep(NA, 3343)
Carbs[BGData$Event == "Carbs"] = BGData$Value[BGData$Event == "Carbs"]
head(data.frame(BGData$Event, BGData$Value, Carbs))
Bloodglucose = rep(NA, 3343)
Bloodglucose[BGData$Event == "Bloodglucose"] = BGData$Value[BGData$Event == "Bloodglucose"]
head(data.frame(BGData$Event, BGData$Value, Bloodglucose))
BGData$Value[BGData$Event == "Carbs"] = NA
BGData$Value[BGData$Event == "Bloodglucose"] = NA
BGData$Event[BGData$Event == "Carbs"] = NA
BGData$Event[BGData$Event == "Bloodglucose"] = NA
BGData$Event = factor(BGData$Event)
head(BGData)
levels(BGData$Event)
levels(BGData$Descripition1)
levels(BGData$Descripition2)
levels(BGData$Descripition3)
levels(BGData$Descripition4)
levels(BGData$Descripition5)
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = rep(1:3343)[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)]
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = rep(1:3343)[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)]
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = rep(1:3343)[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)]
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = rep(1:3343)[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)]
ProposedBolus = rep(0, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(0, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Time change (Winter time)"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Pod activated"] = 1
Warning  = rep(0, 3343)
Warning[BGData$Event == "Warning"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange, Warning))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
sum(!is.na(CleanedBGData$DailyTotalImmediateInsulin))
sum(!is.na(CleanedBGData$DailyTotalBasalInsulin))
sum(!is.na(DailyTotalBasalInsulin))
sum(!is.na(DailyTotalBasalInsulin))
sum(!is.na(DailyTotalImmediateInsulin))
sum(BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1))
sum(BGData$Descripition1 == "Bolus insulin")
table(BGData$Descripition1 == "Bolus insulin")
table(BGData$Descripition1)
table(BGData$Descripition2)
table(BGData$Descripition3)
table(BGData$Descripition1)
BGData = read.csv("Data BG.csv", header = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
table(BGData$Descripition1)
table(BGData$Descripition2)
BGData$Descripition1[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
table(BGData$Descripition1[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)])
table(BGData$Descripition2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)])
table(BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2))
is.na(BGData$Descripition1[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)])
BGData$Descripition1[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin[1:10]
(DailyTotalImmediateInsulin[!is.na(DailyTotalBasalInsulin)])[1:10]
(DailyTotalBasalInsulin[!is.na(DailyTotalBasalInsulin)])[1:10]
BGData = read.csv("Data BG.csv", header = TRUE)
BGData$Descripition1[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
BGData$Descripition1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
lenth(BGData$Descripition1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)])
length(BGData$Descripition1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)])
length(BGData$Descripition1 == "Bolus insulin")
table(BGData$Descripition1 == "Bolus insulin")
BGData = read.csv("Data BG.csv", header = TRUE)
knitr::opts_chunk$set(echo = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
head(BGData)
summary(BGData)
Carbs = rep(NA, 3343)
Carbs[BGData$Event == "Carbs"] = BGData$Value[BGData$Event == "Carbs"]
head(data.frame(BGData$Event, BGData$Value, Carbs))
Bloodglucose = rep(NA, 3343)
Bloodglucose[BGData$Event == "Bloodglucose"] = BGData$Value[BGData$Event == "Bloodglucose"]
head(data.frame(BGData$Event, BGData$Value, Bloodglucose))
BGData$Value[BGData$Event == "Carbs"] = NA
BGData$Value[BGData$Event == "Bloodglucose"] = NA
BGData$Event[BGData$Event == "Carbs"] = NA
BGData$Event[BGData$Event == "Bloodglucose"] = NA
BGData$Event = factor(BGData$Event)
head(BGData)
levels(BGData$Event)
levels(BGData$Descripition1)
levels(BGData$Descripition2)
levels(BGData$Descripition3)
levels(BGData$Descripition4)
levels(BGData$Descripition5)
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = rep(1:3343)[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)]
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = rep(1:3343)[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)]
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = rep(1:3343)[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)]
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = rep(1:3343)[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)]
ProposedBolus = rep(0, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(0, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Time change (Winter time)"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Pod activated"] = 1
Warning  = rep(0, 3343)
Warning[BGData$Event == "Warning"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange, Warning))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
sum(DailyTotalBasalInsulin)
table(DailyTotalBasalInsulin)
sum(!is.na(DailyTotalBasalInsulin))
sum(!is.na(DailyTotalImmediateInsulin))
sum(!is.na(Carbs))
sum(!is.na(Bloodglucose))
sum(BeforeMeal)
BeforeMeal
table(BeforeMeal)
knitr::opts_chunk$set(echo = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
head(BGData)
summary(BGData)
Carbs = rep(NA, 3343)
Carbs[BGData$Event == "Carbs"] = BGData$Value[BGData$Event == "Carbs"]
head(data.frame(BGData$Event, BGData$Value, Carbs))
Bloodglucose = rep(NA, 3343)
Bloodglucose[BGData$Event == "Bloodglucose"] = BGData$Value[BGData$Event == "Bloodglucose"]
head(data.frame(BGData$Event, BGData$Value, Bloodglucose))
BGData$Value[BGData$Event == "Carbs"] = NA
BGData$Value[BGData$Event == "Bloodglucose"] = NA
BGData$Event[BGData$Event == "Carbs"] = NA
BGData$Event[BGData$Event == "Bloodglucose"] = NA
BGData$Event = factor(BGData$Event)
head(BGData)
levels(BGData$Event)
levels(BGData$Descripition1)
levels(BGData$Descripition2)
levels(BGData$Descripition3)
levels(BGData$Descripition4)
levels(BGData$Descripition5)
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = 1
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = 1
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = 1
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = 1
ProposedBolus = rep(0, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(NA, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Time change (Winter time)"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Pod activated"] = 1
Warning  = rep(0, 3343)
Warning[BGData$Event == "Warning"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange, Warning))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
sum(BeforeMeal)
sum(BolusCancelled)
sum(warning)
sum(Warning)
sum(TimeChange)
knitr::opts_chunk$set(echo = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
head(BGData)
summary(BGData)
Carbs = rep(NA, 3343)
Carbs[BGData$Event == "Carbs"] = BGData$Value[BGData$Event == "Carbs"]
head(data.frame(BGData$Event, BGData$Value, Carbs))
Bloodglucose = rep(NA, 3343)
Bloodglucose[BGData$Event == "Bloodglucose"] = BGData$Value[BGData$Event == "Bloodglucose"]
head(data.frame(BGData$Event, BGData$Value, Bloodglucose))
BGData$Value[BGData$Event == "Carbs"] = NA
BGData$Value[BGData$Event == "Bloodglucose"] = NA
BGData$Event[BGData$Event == "Carbs"] = NA
BGData$Event[BGData$Event == "Bloodglucose"] = NA
BGData$Event = factor(BGData$Event)
head(BGData)
levels(BGData$Event)
levels(BGData$Descripition1)
levels(BGData$Descripition2)
levels(BGData$Descripition3)
levels(BGData$Descripition4)
levels(BGData$Descripition5)
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = 1
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = 1
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = 1
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = 1
ProposedBolus = rep(0, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(NA, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Pump is stopped"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Time change (Winter time)"] = 1
Warning  = rep(0, 3343)
Warning[BGData$Event == "Warning"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange, Warning))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
sum(TimeChange)
table(ExtendedBolus)
sum(!is.na(ExtendedBolus))
sum(!is.na(DurationExtDos))
cbind(DurationExtDos[!is.na(ExtendedBolus)], DurationExtDos[!is.na(DurationExtDos)])
cbind(ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
cbind(CleanedBGData[!is.na(DurationExtDos)], ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
cbind(CleanedBGData$Date[!is.na(DurationExtDos)], ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
cbind(CleanedBGData$Time[!is.na(DurationExtDos)], ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
cbind(ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
(CleanedBGData$Time[!is.na(DurationExtDos)])[223]
(BGData$Time[!is.na(DurationExtDos)])[223]
(BGData$Data[!is.na(DurationExtDos)])[223]
(BGData$Date[!is.na(DurationExtDos)])[223]
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Event == "Extended dosis"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Extended dosis"&!is.na(BGData$Event)]
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = 1
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = 1
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = 1
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = 1
ProposedBolus = rep(0, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(NA, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Pump is stopped"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Time change (Winter time)"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange, Warning))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
cbind(ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
[BGData$Event == "Extended dosis"&!is.na(BGData$Event)]
sum(BGData$Event == "Extended dosis"&!is.na(BGData$Event))
sum(BGData$Event == "Extended dosis")
levels(BGData$Event)
table(BGData$Event)
table(BGData$Event == "Extended bolus")
table(BGData$Event == "Extended bolus"&!is.na(BGData$Event))
sum(BGData$Event == "Extended bolus"&!is.na(BGData$Event))
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Event == "Extended bolus"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Extended bolus"&!is.na(BGData$Event)]
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
cbind(ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)])
sum(cbind(ExtendedBolus[!is.na(DurationExtDos)], DurationExtDos[!is.na(DurationExtDos)]))
length(ExtendedBolus[!is.na(DurationExtDos)])
table(ExtendedBolus)
table(Occlusion)
sum(!is.na(ImmediateBolus))
sum(!is.na(ExtendedBolus))
245+225
991
991+231
231+14
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
sum(!is.na(ImmediateBolus))
ImmediateBolus = rep(NA, 3343)
sum(!is.na(ImmediateBolus))
ImmediateBolus[BGData$Event == "Bolus"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Bolus"&!is.na(BGData$Event)]
sum(!is.na(ImmediateBolus))
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
sum(!is.na(ImmediateBolus))
971-231
table(BGData$Event)
sum(!is.na(ImmediateBolus))
231+746
sum(BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1))
sum(BGData$Event == "Bolus"&!is.na(BGData$Event))
BGData$Descripition1["Direct dosis"&!is.na(BGData$Descripition1)]
BGData$Descripition1[BGData$Descripition1="Direct dosis"&!is.na(BGData$Descripition1)]
BGData$Descripition1[BGData$Descripition1=="Direct dosis"&!is.na(BGData$Descripition1)]
BGData$Descripition1[BGData$Evebt=="Combinationbolus"]
BGData$Descripition1[BGData$Event=="Combinationbolus"]
BGData$Event=="Combinationbolus"
table(BGData$Event)
BGData$Descripition1[BGData$Event=="Combination bolus"]
BGData$Descripition1[BGData$Event=="Combination bolus"&!is.na(BGData$Event)]
knitr::opts_chunk$set(echo = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
head(BGData)
summary(BGData)
Carbs = rep(NA, 3343)
Carbs[BGData$Event == "Carbs"] = BGData$Value[BGData$Event == "Carbs"]
head(data.frame(BGData$Event, BGData$Value, Carbs))
Bloodglucose = rep(NA, 3343)
Bloodglucose[BGData$Event == "Bloodglucose"] = BGData$Value[BGData$Event == "Bloodglucose"]
head(data.frame(BGData$Event, BGData$Value, Bloodglucose))
BGData$Value[BGData$Event == "Carbs"] = NA
BGData$Value[BGData$Event == "Bloodglucose"] = NA
BGData$Event[BGData$Event == "Carbs"] = NA
BGData$Event[BGData$Event == "Bloodglucose"] = NA
BGData$Event = factor(BGData$Event)
head(BGData)
levels(BGData$Event)
levels(BGData$Descripition1)
levels(BGData$Descripition2)
levels(BGData$Descripition3)
levels(BGData$Descripition4)
levels(BGData$Descripition5)
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Event == "Bolus"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Bolus"&!is.na(BGData$Event)]
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Event == "Extended bolus"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Extended bolus"&!is.na(BGData$Event)]
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = 1
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = 1
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = 1
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = 1
ProposedBolus = rep(0, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(NA, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Pump is stopped"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Time change (Winter time)"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange, Warning))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
sum(!is.na(ImmediateBolus))
sum(PodAct)
sum(PodDeAct)
sum(PumpStart)
sum(PumpStop)
sum(ProposedBolus)
sum(ProposedBolus>0)
knitr::opts_chunk$set(echo = TRUE)
BGData = read.csv("Data BG.csv", header = TRUE)
head(BGData)
summary(BGData)
Carbs = rep(NA, 3343)
Carbs[BGData$Event == "Carbs"] = BGData$Value[BGData$Event == "Carbs"]
head(data.frame(BGData$Event, BGData$Value, Carbs))
Bloodglucose = rep(NA, 3343)
Bloodglucose[BGData$Event == "Bloodglucose"] = BGData$Value[BGData$Event == "Bloodglucose"]
head(data.frame(BGData$Event, BGData$Value, Bloodglucose))
BGData$Value[BGData$Event == "Carbs"] = NA
BGData$Value[BGData$Event == "Bloodglucose"] = NA
BGData$Event[BGData$Event == "Carbs"] = NA
BGData$Event[BGData$Event == "Bloodglucose"] = NA
BGData$Event = factor(BGData$Event)
head(BGData)
levels(BGData$Event)
levels(BGData$Descripition1)
levels(BGData$Descripition2)
levels(BGData$Descripition3)
levels(BGData$Descripition4)
levels(BGData$Descripition5)
ImmediateBolus = rep(NA, 3343)
ImmediateBolus[BGData$Event == "Bolus"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Bolus"&!is.na(BGData$Event)]
ImmediateBolus[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Direct dosis"&!is.na(BGData$Descripition1)]
ExtendedBolus = rep(NA, 3343)
ExtendedBolus[BGData$Event == "Extended bolus"&!is.na(BGData$Event)] = BGData$Value[BGData$Event == "Extended bolus"&!is.na(BGData$Event)]
ExtendedBolus[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Extended dosis"&!is.na(BGData$Descripition2)]
DailyTotalBasalInsulin = rep(NA, 3343)
DailyTotalBasalInsulin[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Basal insulin"&!is.na(BGData$Descripition2)]
DailyTotalImmediateInsulin = rep(NA, 3343)
DailyTotalImmediateInsulin[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Bolus insulin"&!is.na(BGData$Descripition1)]
BolusCancelled = rep(0, 3343)
BolusCancelled[BGData$Descripition2 == "Bolus cancelled"&!is.na(BGData$Descripition2)] = 1
BolusCancelled[BGData$Descripition5 == "Bolus cancelled"&!is.na(BGData$Descripition5)] = 1
BeforeMeal = rep(0, 3343)
BeforeMeal[BGData$Descripition1 == "Before meal"&!is.na(BGData$Descripition1)] = 1
Occlusion = rep(0, 3343)
Occlusion[BGData$Descripition1 == "Occlusion found"&!is.na(BGData$Descripition1)] = 1
ProposedBolus = rep(NA, 3343)
ProposedBolus[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Proposed bolus"&!is.na(BGData$Descripition1)]
ProposedBolus[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)] = BGData$ValueD2[BGData$Descripition2 == "Proposed bolus"&!is.na(BGData$Descripition2)]
ProposedBolus[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)] = BGData$ValueD4[BGData$Descripition4 == "Proposed bolus"&!is.na(BGData$Descripition4)]
DurationExtDos = rep(NA, 3343)
DurationExtDos[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)] = BGData$ValueD1[BGData$Descripition1 == "Duration of Extended dosis"&!is.na(BGData$Descripition1)]
DurationExtDos[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)] = BGData$ValueD3[BGData$Descripition3 == "Duration of Extended dosis"&!is.na(BGData$Descripition3)]
PodAct = rep(0, 3343)
PodAct[BGData$Event == "Pod activated"] = 1
PodDeAct = rep(0, 3343)
PodDeAct[BGData$Event == "Pod deactivated"] = 1
PumpStart = rep(0, 3343)
PumpStart[BGData$Event == "Pump is started"] = 1
PumpStop = rep(0, 3343)
PumpStop[BGData$Event == "Pump is stopped"] = 1
TimeChange = rep(0, 3343)
TimeChange[BGData$Event == "Time change (Winter time)"] = 1
CleanedBGData = as.data.frame(cbind(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange))
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
CleanedBGData = as.data.frame(aBGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange)
CleanedBGData = as.data.frame(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange)
CleanedBGData = data.frame(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange)
CleanedBGData = data.frame(BGData$DayOfWeek, BGData$Date, BGData$Time, BeforeMeal, Bloodglucose, BolusCancelled, Carbs, DailyTotalBasalInsulin, DailyTotalImmediateInsulin, DurationExtDos, ExtendedBolus, ImmediateBolus, Occlusion, PodAct, PodDeAct, ProposedBolus, PumpStart, PumpStop, TimeChange)
names(CleanedBGData)[1:3] = c("DayOfWeek", "Date", "Time")
save(CleanedBGData, file = "CleanedBGData.RData")
Warning  = rep(0, 3343)
